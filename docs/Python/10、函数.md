# 10 函数
到目前为止，我们已经学习了很多内置的 Python 函数。在这一节中，我们将重点关注自定义函数。什么是函数？在开始创建函数之前，让我们先了解一下什么是函数以及为什么需要它们。

### 定义函数
函数是一块可重复使用的代码块或编程语句，用于执行某些任务。要定义或声明一个函数，Python 提供了 _def_ 关键字。下面是定义函数的语法。只有在调用或触发函数时，这段函数代码才会执行。

### 声明和调用函数
当我们创建一个函数时，我们称其为声明一个函数。当我们开始使用它时，我们称其为调用或触发一个函数。函数可以带参数也可以不带参数。

```py
# 语法
# 声明一个函数
def function_name():
    codes
    codes
# 调用一个函数
function_name()
```

### 无参数的函数

函数可以在没有参数的情况下声明。
**示例:**

```py
def generate_full_name ():
    first_name = 'hua'
    last_name = 'joffery'
    space = ' '
    full_name = first_name + space + last_name
    print(full_name)
generate_full_name () # 调用一个函数

def add_two_numbers ():
    num_one = 2
    num_two = 3
    total = num_one + num_two
    print(total)
add_two_numbers()
```

### 返回值的函数 - 第 1 部分

函数也可以返回值，如果一个函数没有 return 语句，那么函数的返回值为 None。让我们使用 return 重写上述函数。从现在开始，当我们调用函数并打印时，我们会得到一个值。
```py
def generate_full_name ():
    first_name = 'hua'
    last_name = 'joffery'
    space = ' '
    full_name = first_name + space + last_name
    return full_name
print(generate_full_name())

def add_two_numbers ():
    num_one = 2
    num_two = 3
    total = num_one + num_two
    return total
print(add_two_numbers())
```

### 有参数的函数
在一个函数中，我们可以传递不同的数据类型（数字、字符串、布尔值、列表、元组、字典或集合）作为参数。
- 单个参数：如果我们的函数需要一个参数，我们应该用一个实参调用它。
```py
  # 语法
  # 声明一个函数
  def function_name(parameter):
    codes
    codes
  # 调用函数
  print(function_name(argument))
```

**示例:**

```py
def greetings (name):
    message = name + ', welcome to Python for Everyone!'
    return message

print(greetings('joffery'))

def add_ten(num):
    ten = 10
    return num + ten
print(add_ten(90))

def square_number(x):
    return x * x
print(square_number(2))

def area_of_circle (r):
    PI = 3.14
    area = PI * r ** 2
    return area
print(area_of_circle(10))

def sum_of_numbers(n):
    total = 0
    for i in range(n+1):
        total+=i
    print(total)
print(sum_of_numbers(10)) # 55
print(sum_of_numbers(100)) # 5050
```

- 两个参数：一个函数可以没有参数，也可以有一个或多个参数。如果我们的函数需要两个参数，我们应该用两个实参调用它。让我们看看一个带有两个参数的函数：

```py
  # 语法
  # 声明一个函数
  def function_name(para1, para2):
    codes
    codes
  # 调用函数
  print(function_name(arg1, arg2))
```

**示例:**

```py
def generate_full_name (first_name, last_name):
    space = ' '
    full_name = first_name + space + last_name
    return full_name
print('Full Name: ', generate_full_name('hua','joffery'))

def sum_two_numbers (num_one, num_two):
    sum = num_one + num_two
    return sum
print('Sum of two numbers: ', sum_two_numbers(1, 9))

def calculate_age (current_year, birth_year):
    age = current_year - birth_year
    return age

print('Age: ', calculate_age(2021, 1999))

def weight_of_object (mass, gravity):
    weight = str(mass * gravity)+ ' N' # 值需要先转换为字符串
    return weight
print('Weight of an object in Newtons: ', weight_of_object(100, 9.81))
```

### 使用键值对传递参数

如果我们使用键值对传递参数，参数的顺序就无关紧要了。
```py
# 语法
# 声明一个函数
def function_name(para1, para2):
    codes
    codes
# 调用函数
print(function_name(para1 = 'John', para2 = 'Doe')) # 参数的顺序在这里无关紧要
```

**示例:**

```py
def print_fullname(firstname, lastname):
    space = ' '
    full_name = firstname  + space + lastname
    print(full_name)
print(print_fullname(firstname = 'hua', lastname = 'joffery'))

def add_two_numbers (num1, num2):
    total = num1 + num2
    print(total)
print(add_two_numbers(num2 = 3, num1 = 2)) # 顺序无关紧要
```

### 返回值的函数 - 第 2 部分

如果我们不在函数中返回一个值，那么我们的函数默认返回 _None_。要用函数返回一个值，我们使用关键字 _return_，后面跟上我们要返回的变量。我们可以从一个函数返回任何类型的数据。

- 返回字符串:
  **示例:**

```py
def print_name(firstname):
    return firstname
print_name('hua')

def print_full_name(firstname, lastname):
    space = ' '
    full_name = firstname  + space + lastname
    return full_name
print_full_name(firstname='hua', lastname='joffery')
```

- 返回数字:

**示例:**

```py
def add_two_numbers (num1, num2):
    total = num1 + num2
    return total
print(add_two_numbers(2, 3))

def calculate_age (current_year, birth_year):
    age = current_year - birth_year
    return age
print('Age: ', calculate_age(2019, 1999))
```

- 返回布尔值:
  **示例:**
```py
def is_even (n):
    if n % 2 == 0:
        print('even')
        return True    # return 语句会停止函数的进一步执行，类似于 break
    return False
print(is_even(10)) # True
print(is_even(7)) # False
```

- 返回列表:
  **示例:**

```py
def find_even_numbers(n):
    evens = []
    for i in range(n + 1):
        if i % 2 == 0:
            evens.append(i)
    return evens
print(find_even_numbers(10))
```

### 带默认参数的函数
有时我们在调用函数时会传递默认值给参数。如果我们在调用函数时没有传递实参，参数的默认值将会被使用。

```py
# 语法
# 声明一个函数
def function_name(param = value):
    codes
    codes
# 调用函数
function_name()
function_name(arg)
```

**示例:**

```py
def greetings (name = 'Peter'):
    message = name + ', welcome to Python for Everyone!'
    return message
print(greetings())
print(greetings('joffery'))

def generate_full_name (first_name = 'hua', last_name = 'joffery'):
    space = ' '
    full_name = first_name + space + last_name
    return full_name

print(generate_full_name())
print(generate_full_name('wang','five'))

def calculate_age (birth_year,current_year = 2021):
    age = current_year - birth_year
    return age
print('Age: ', calculate_age(1999))

def weight_of_object (mass, gravity = 9.81):
    weight = str(mass * gravity)+ ' N' # 值需要先转换为字符串
    return weight
print('Weight of an object in Newtons: ', weight_of_object(100)) # 9.81 - 地球表面的平均重力
print('Weight of an object in Newtons: ', weight_of_object(100, 1.62)) # 月球表面的重力
```

### 不定数量的参数

如果我们不知道传递给函数的参数数量，可以通过在参数名前加上 " * " 来创建一个可以接受不定数量参数的函数。
```py
# 语法
# 声明一个函数
def function_name(*args):
    codes
    codes
# 调用函数
function_name(param1, param2, param3,..)
```

**示例:**

```py
def sum_all_nums(*nums):
    total = 0
    for num in nums:
        total += num     # 相当于 total = total + num
    return total
print(sum_all_nums(2, 3, 5)) # 10
```

### 函数中的默认和不定数量的参数
```py
def generate_groups (team,*args):
    print(team)
    for i in args:
        print(i)
print(generate_groups('Team-1','Asabeneh','Brook','David','Eyob'))
```

### 作为另一个函数参数的函数
```py
# 你可以将函数作为参数传递
def square_number (n):
    return n * n
def do_something(f, x):
    return f(x)
print(do_something(square_number, 3))
```
------
## 总结
### 1. 函数的核心概念
- **定义与声明**：使用 `def` 关键字，后接函数名、圆括号 `()` 和冒号 `:`。
- **调用与触发**：只有在调用函数名并带上括号时，函数体内的代码才会执行。
- **返回值 (`return`)**：
  - 函数可以使用 `return` 将结果传递给调用者。
  - **关键点**：一旦执行 `return`，函数会立即停止执行（类似于循环中的 `break`）。
  - 如果没有 `return`，函数默认返回 `None`。
------
### 2. 参数的多样化处理
文档重点展示了如何灵活地向函数传递数据：
| **参数类型**   | **语法示例**       | **描述**                                                   |
| -------------- | ------------------ | ---------------------------------------------------------- |
| **位置参数**   | `func(a, b)`       | 调用时必须按顺序传入对应数量的实参。                       |
| **关键字参数** | `func(para1='x')`  | 通过键值对指定参数，调用时可以不考虑参数的先后顺序。       |
| **默认参数**   | `def func(p=val):` | 在定义时给定默认值，如果调用时未传参，则使用默认值。       |
| **不定长参数** | `def func(*args):` | 在参数前加 `*`，可以接收任意数量的参数（以元组形式处理）。 |
------
### 3. 高级用法：函数作为参数
- **函数可以作为参数**：可以将一个函数名传递给另一个函数，在内部进行逻辑组合。例如，定义一个求平方的函数并将其传给一个执行逻辑的函数。
------
### 4. 编写技巧与注意事项
- **变量类型转换**：在返回包含数字的字符串时（如计算重量），需要先用 `str()` 进行类型转换。
- **代码简洁性**：通过逻辑判断、循环与函数的结合，可以实现复杂的计算逻辑（如计算圆面积、求偶数列表等）。